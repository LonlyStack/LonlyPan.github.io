---
layout: post
title: "小书匠绑定第三方数据库"
data: 2019-9-3 13:51
categories:  Blog
---

之前自己写博客文章都是利用`小书匠`软件本地书写，等完成后，再上传到github上，用于博客网页显示。

## 问题

* 不能多端同步（只在本地）；
* 步骤繁琐（单独上传，错了还需修改再上传），另外图片文件还需要单独上传；
* 最后是最大的问题：图片上传，小书匠软件默认图片使用相对链接，但不知为何上传到github上可以正常查看，但博客网页却无法显示，必须改为最高级目录一直到文件位置的链接形式（我感觉应该是我的网页程序的事，目前还没找到原因，也不太会HTML&CSS），这意味着我需要一个个修改图片的链接(ノへ￣、)，我选择放弃。

## 解决方法：

好在小书匠存储设置可以链接到外部地址，单独设置数据存储和图床存储位置

数据存储直接链接到博客的github的文档库，那么每次保存时，就直接保存在github的文件夹中，直接云存储，随写随看。

### 数据绑定

1、首先在软件上点击 `小书匠` 图标，点击 `绑定`选项进入操作界面，选择 `数据存储-> github` 进入设置界面（前两个是根据下面的步骤获取填写的，第三个为默认）。这里可以看到，还可以绑定其他第三方，有的直接输入账号密码登录就可以，自己选择吧。这里只谈GitHub。
![操作与设置界面](https://raw.githubusercontent.com/LonlyPan/LonlyPan.github.io/master/images/Posts/小书匠绑定第三方数据库/1567696458729.png)


2、登录自己的github上，并新建一个仓库，也可以使用已经有的。直接点击设置界面的跳转链接跳转到token申请界面或者点击github账户头像 `Settings -> Developer settings -> Personal access tokens -> Generate new token `

按图示设置好，然后下拉网页至最低，点击绿色的`Generate token `按钮。
![申请token界面](https://raw.githubusercontent.com/LonlyPan/LonlyPan.github.io/master/images/Posts/小书匠绑定第三方数据库/1567695427415.png)

3、设置成功会显示下面界面，记得保存token值，后面还会用到。
![token值](https://raw.githubusercontent.com/LonlyPan/LonlyPan.github.io/master/images/Posts/小书匠绑定第三方数据库/1567695914382.png)

4、然后就是你的仓库名了，直接复制就好了。
![仓库名](https://raw.githubusercontent.com/LonlyPan/LonlyPan.github.io/master/images/Posts/小书匠绑定第三方数据库/1567696155700.png)

5、最后按照第一步的设置界面对应位置填写就可以了。


### 图床绑定

步骤和上面类似

![图床绑定](https://raw.githubusercontent.com/LonlyPan/LonlyPan.github.io/master/images/Posts/小书匠绑定第三方数据库/1567696953729.png)

**文件名生成规则：**

按照默认方法，你的图片会被存储在 `
https://raw.githubusercontent.com/LonlyPan/LonlyPan.github.io/master/小书匠/xxx.png`

所以你是可以自己修改在仓库的存储位置的，但{{filename}}就是你的文件名，下面的变量：年月日、文章标题，都是你的博客`头数据`，这个需要其他知识了，不做详解。注意 "{{}}"不要丢，“/”表示目录。

我的设置是：
images/Posts/{{title}}/{{filename}}

## 问题

* 当你写好保存后，然后再修改了软件端title文档名（文档名是软件根据 `title`后的内容生成的,也可在保存时修改），github上的文档名是不会修改的，但你的内容修改依旧有效（貌似文档名和存储名是分开的）。





